% 测试README.md中定义的所有LaTeX功能（图、表、公式、交叉引用、代码、列表等）
\chapter{功能测试章节}
\label{ch:ch_test}

\section{文本与基础格式测试}
\label{sec:text_format}

% 测试普通文本、加粗、斜体、脚注（README中常提及的基础格式）
本章用于测试README.md中定义的所有LaTeX功能，包括基础文本格式、图表插入、公式排版、交叉引用等。
加粗文本示例：\textbf{这是加粗文本}；斜体文本示例：\textit{这是斜体文本}；
脚注示例\footnote{这是测试脚注，验证脚注功能是否正常编译}。

\section{列表功能测试}
\label{sec:lists}

% 测试无序列表、有序列表（README中常见列表需求）
\subsection{无序列表}
\begin{itemize}
    \item 测试无序列表项1
    \item 测试无序列表项2
    \item 嵌套无序列表
          \begin{itemize}
              \item 嵌套项1
              \item 嵌套项2
          \end{itemize}
\end{itemize}

\subsection{有序列表}
\begin{enumerate}
    \item 测试有序列表项1
    \item 测试有序列表项2
    \item 嵌套有序列表
          \begin{enumerate}
              \item 嵌套项1
              \item 嵌套项2
          \end{enumerate}
\end{enumerate}

\section{公式功能测试}
\label{sec:equations}

% 测试行内公式、单行公式、多行公式（README中数学公式相关功能）
\subsection{行内公式}
行内公式示例：$E=mc^2$（质能方程），$f(x) = \sum_{i=1}^n x_i$（求和公式）。

\subsection{单行编号公式}
\begin{equation}
    \int_{-\infty}^{+\infty} e^{-x^2} dx = \sqrt{\pi}
    \label{eq:gaussian_integral}
\end{equation}
公式\eqref{eq:gaussian_integral}为高斯积分，验证公式交叉引用功能。

\subsection{多行公式}
\begin{align}
    \sin^2\theta + \cos^2\theta &= 1 \label{eq:trig1} \\
    \tan\theta &= \frac{\sin\theta}{\cos\theta} \label{eq:trig2}
\end{align}
公式\eqref{eq:trig1}和\eqref{eq:trig2}验证多行公式排版与引用。

\section{表格功能测试}
\label{sec:tables}

% 测试基础表格、带标题/引用的表格（README中表格相关功能）
\begin{table}[htbp]
    \centering
    \caption{测试表格（基础格式）}
    \label{tab:test_table}
    \begin{tabular}{|c|c|c|}
        \hline
        列1 & 列2 & 列3 \\
        \hline
        数据1 & 数据2 & 数据3 \\
        \hline
        数据4 & 数据5 & 数据6 \\
        \hline
    \end{tabular}
\end{table}

表格\ref{tab:test_table}验证表格插入、标题与交叉引用功能。

\section{图片功能测试}
\label{sec:figures}

% 测试图片插入、标题/引用、缩放（README中图相关核心功能）
% 统一图片路径为 ./figures/ch02/，符合LaTeX项目通用目录规范
\begin{figure}[htbp]
    \centering
    \includegraphics[width=0.6\textwidth]{ch02/three.pdf} 
    \caption{测试图片（验证图插入、缩放、标题）}
    \label{fig:test_figure}
\end{figure}

图\ref{fig:test_figure}%验证图片插入、缩放、标题与交叉引用功能（需确保test_image.png放在./figures/ch02/目录下）。

\section{代码块功能测试}
\label{sec:code_blocks}

% 测试LaTeX代码块排版（README中若提及代码展示功能）
\begin{verbatim}
# Python测试代码
def hello_world():
    print("Hello, LaTeX!")
hello_world()
\end{verbatim}

% 代码高亮配置（放在章节内，避免与主文档冲突）
\lstset{
    language=Python,
    basicstyle=\ttfamily\small,
    keywordstyle=\color{blue},
    commentstyle=\color{gray},
    stringstyle=\color{red},
    frame=single,
    breaklines=true
}

\begin{lstlisting}[caption={Python代码高亮示例}, label={lst:python_code}]
# 带高亮的Python测试代码
def add(a, b):
    """求和函数"""
    return a + b

result = add(3, 5)
print(f"结果：{result}")
\end{lstlisting}

代码块\ref{lst:python_code}验证代码高亮、标题与引用功能（需确保listings包已加载）。

\section{交叉引用综合测试}
\label{sec:cross_ref}

% 综合验证章节、公式、表格、图片、代码的交叉引用
\begin{itemize}
    \item 引用章节：第二章(\ref{ch:calc_diff_single})的\textsection\ref{sec:text_format}；
    \item 引用公式：\eqref{eq:gaussian_integral}、\eqref{eq:trig1}；
    \item 引用表格：\ref{tab:test_table}；
    \item 引用图片：\ref{fig:test_figure}；
    \item 引用代码：\ref{lst:python_code}；
    \item 引用浮动体测试图：\ref{fig:float_test}。
\end{itemize}

\section{浮动体位置测试}
\label{sec:floats}

% 测试图表浮动体位置（README中常说明htbp等参数）
\begin{figure}[h] % h=here, t=top, b=bottom, p=page
    \centering
    \includegraphics[width=0.5\textwidth]{ch02/three.pdf}
    \caption{浮动体位置测试（h参数）}
    \label{fig:float_test}
\end{figure}

% 验证浮动体位置控制功能，需确保test_image2.png放在./figures/ch02/目录下。
\begin{center}
    \textcolor{kaoyan-blue}{\Large 本章学习目标：掌握极限的计算方法，理解连续性的本质}
\end{center}

\section{极限的概念与性质}

\subsection{数列极限}
\begin{definition}{数列极限}{}
    设$\{x_n\}$为数列，$a$为常数。若对于任意$\varepsilon>0$，存在正整数$N$，使得当$n>N$时，有$|x_n-a|<\varepsilon$，则称数列$\{x_n\}$收敛于$a$，记作$\lim\limits_{n\to\infty}x_n=a$。
\end{definition}

\begin{example}
    证明：$\lim\limits_{n\to\infty}\left(1+\frac{1}{n}\right)^n = e$
    \begin{solution}
        利用单调有界准则证明：
        \begin{enumerate}
            \item 先证数列$x_n = \left(1+\frac{1}{n}\right)^n$单调递增
            \item 再证数列有上界
            \item 由单调有界准则知极限存在，记该极限为$e$
        \end{enumerate}
    \end{solution}
\end{example}
\label{sec:sequence-limit-properties}
\keypoint{极限存在准则}：单调有界数列必收敛；夹逼准则。 

% 数列极限唯一性定理（用项目预设的theorem环境）
\begin{theorem}{唯一性}{thm:sequence-limit-uniqueness}
若数列$\{a_n\}$收敛，则它只有一个极限．
\end{theorem}

% 证明（用项目预设的proof环境，若未预设则用amsthm的proof）
\begin{proofbox}
设$a$是$\{a_n\}$的一个极限．我们证明：对任何数$b \neq a$，$b$不是$\{a_n\}$的极限．
事实上，若取$\varepsilon_0 = \frac{1}{2}|b - a|$，则按定义，在$U(a;\varepsilon_0)$之外至多只有$\{a_n\}$中有限项，从而在$U(b;\varepsilon_0)$内至多只有$\{a_n\}$中有限个项；所以$b$不是$\{a_n\}$的极限．
这就证明了收敛数列只能有一个极限．
\end{proofbox}
\begin{theorem}{有界性}{thm:sequence-limit-boundedness}
    若数列$\{a_n\}$收敛，则它是有界的。即存在正数$M$，使得对一切正整数$n$，都有
    \begin{equation}
        \absme{a_n} \leq M
    \end{equation}
\end{theorem}
\begin{proofbox}
    设$\lim\limits_{n\to\infty}a_n = a$，则对$\varepsilon = 1$，存在正整数$N$，使得当$n > N$时，有$\absme{a_N-a} < 1$。
    因此，对所有$n \geq 1$，都有
    $$
    \absme{a_n} = \absme{a_n - a + a} \leq \absme{a_n - a} + \absme{a} < 1 + \absme{a}
    $$
    令$M = \max\{\absme{a_1}, \absme{a_2}, \ldots, \absme{a_N}, 1 + \absme{a}\}$，则对一切正整数$n$都有$\absme{a_n} \leq M$。
\end{proofbox}
\subsection{函数极限}
\begin{definition}{函数极限}{}
    设函数$f(x)$在点$x_0$的某去心邻域内有定义，$A$为常数。若对于任意$\varepsilon>0$，存在$\delta>0$，使得当$0<|x-x_0|<\delta$时，有$|f(x)-A|<\varepsilon$，则称$f(x)$在$x\to x_0$时的极限为$A$。
\end{definition}

\formula{\lim_{x\to 0}\frac{\sin x}{x}=1}

\begin{attention}
    使用洛必达法则前必须检查是否满足$\frac{0}{0}$或$\frac{\infty}{\infty}$型未定式。
\end{attention}

\section{极限的计算方法}

\subsection{基本方法}
\begin{enumerate}
    \item \textbf{直接代入法}：初等函数在其定义域内连续
    \item \textbf{因式分解法}：消去零因子
    \item \textbf{有理化法}：处理根式
    \item \textbf{等价无穷小替换}：常用等价关系
\end{enumerate}

\subsection{洛必达法则}
\begin{theorem}{洛必达法则}{}
    若$\lim\limits_{x\to a}f(x)=\lim\limits_{x\to a}g(x)=0$（或$\infty$），且$\lim\limits_{x\to a}\frac{f'(x)}{g'(x)}$存在（或为$\infty$），则
    \[
    \lim_{x\to a}\frac{f(x)}{g(x)}=\lim_{x\to a}\frac{f'(x)}{g'(x)}
    \]
\end{theorem}

\begin{example}
    求$\lim\limits_{x\to 0}\frac{e^x-1-x}{x^2}$
    \begin{solution}
        这是$\frac{0}{0}$型未定式，使用洛必达法则：
        \begin{align*}
            \lim_{x\to 0}\frac{e^x-1-x}{x^2} 
            &= \lim_{x\to 0}\frac{e^x-1}{2x} \quad \text{（再次洛必达）}\\
            &= \lim_{x\to 0}\frac{e^x}{2} = \frac{1}{2}
        \end{align*}
    \end{solution}
\end{example}

\section{连续与间断}

\subsection{连续的定义}
\begin{definition}{连续}{}
    函数$f(x)$在点$x_0$连续，当且仅当：
    \begin{enumerate}
        \item $f(x_0)$存在
        \item $\lim\limits_{x\to x_0}f(x)$存在
        \item $\lim\limits_{x\to x_0}f(x)=f(x_0)$
    \end{enumerate}
\end{definition}

\subsection{间断点类型}
\begin{table}[ht]
    \centering
    \caption{间断点分类}
    \begin{tabular}{ccc}
        \toprule
        类型 & 条件 & 示例 \\
        \midrule
        可去间断点 & $\lim\limits_{x\to x_0}f(x)$存在但不等于$f(x_0)$ & $\frac{\sin x}{x} (x=0)$ \\
        跳跃间断点 & 左右极限存在但不相等 & $\operatorname{sgn}(x) (x=0)$ \\
        无穷间断点 & 极限为无穷大 & $\frac{1}{x} (x=0)$ \\
        振荡间断点 & 极限不存在且不为无穷 & $\sin\frac{1}{x} (x=0)$ \\
        \bottomrule
    \end{tabular}
\end{table}

\section{本章习题}

\begin{exercise}
    \begin{enumerate}
        \item 求极限：$\lim\limits_{x\to 0}\frac{\sqrt{1+x}-\sqrt{1-x}}{x}$
        \item 求极限：$\lim\limits_{x\to 0}\left(\frac{1}{x}-\frac{1}{e^x-1}\right)$
        \item 判断函数$f(x)=\frac{x^2-1}{x-1}$在$x=1$处的连续性
    \end{enumerate}
\end{exercise}

\section{本章总结}
\begin{summary}
    \begin{itemize}
        \item \important{极限的$\varepsilon$-$\delta$定义是理论基础}
        \item 掌握七大重要极限：
        \begin{enumerate}
            \item $\lim\limits_{x\to 0}\frac{\sin x}{x}=1$
            \item $\lim\limits_{x\to\infty}\left(1+\frac{1}{x}\right)^x=e$
            \item $\lim\limits_{x\to 0}(1+x)^{\frac{1}{x}}=e$
        \end{enumerate}
        \item 熟练运用洛必达法则\cite{同济高数}
        \item 理解连续\cite{浙大概率论,同济高数,浙大概率论,清华线性代数}与间断的实质\cite{考研数学分析}
    \end{itemize}
\end{summary}